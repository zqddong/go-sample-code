### 迭代器模式

[摘自](https://mp.weixin.qq.com/s/O8shSU46TcgFPx3h7NGFAA)

_**迭代器到底是不是一个多此一举的模式**_

### 迭代器模式

迭代器模式（Iterator Design Pattern），也叫作游标模式（Cursor Design Pattern）。提供了一种方法顺序地访问一个聚合对象中的元素，而不是暴露该对象的内部表示。这里说的聚合对象也常被称作集合，是编程中最常使用的数据类型之一，有些编程序言还内置提供了整个集合框架，比如Java内置提供的Collection类族、Map类族。


如果集合基于列表， 那么遍历集合这项工作会很简单。 但如果集合基于栈、 树、 图和其他复杂的数据结构实现，那么该如何遍历其中的元素呢？

无论集合采用什么数据结构实现， 它都必须提供某种访问元素的方式， 便于其他代码访问其中的元素，怎么才能能让客户端用统一的方式访问不同结构的集合呢？这就需要用到迭代器模式了，迭代器模式的主要思想是将集合的遍历行为抽取为单独的迭代器对象。

迭代器模式用于遍历集合中的对象，很多语言里都内置了这种设计模式，迭代器模式的思想是将集合对象的遍历操作从集合类中拆分出来，放到迭代器实现类中，让两者的职责更单一。

### 迭代器模式的结构

- Iterator 接口： 这个接口会定义一些基础的操作函数，如hasNext()或getNext()等。通过名称就可以看出，这些方法可以帮助我们执行遍历集合、重启迭代等操作。
- Collection 接口： 这个接口代表了要被遍历的集合。在这个接口里定义了一个createIterator方法，该方法会返回一个Iterator的实例。
- Concrete Iterator： Iterator接口的具体实现类。
- Concrete Collection： Collection接口的具体实现类。
- Client：通过集合和迭代器的接口与两者进行交互。 这样一来客户端无需与具体类进行耦合， 允许同一客户端代码使用各种不同的集合和迭代器。

### 总结

迭代器模式在平时编程的时候使用的并不多，像Java、C#编程时都自带了迭代器模式的实现，也支持实现语言内置的Iterator接口来给自定义集合创建迭代器。

关于迭代器的使用场景，我们只要记住它的主要思想是将集合对象的遍历操作从集合类中拆分出来，放到迭代器实现类中，让两者的职责更单一的同时也让客户端不必关系该怎么去实现集合的迭代算法。