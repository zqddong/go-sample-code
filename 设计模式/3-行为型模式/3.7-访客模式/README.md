### 访客模式

[摘自](https://mp.weixin.qq.com/s/qsw89qI8DOXyb4C1XI5QtA)

_**访客模式**_

访客模式也叫访问者模式（Visitor Pattern）是一种将数据结构对象与数据操作分离的设计模式，可以在不改变数据结构对象类结构的前提下定义作用于这些对象的新的操作， 属于行为型设计模式。

访问者模式主要适用于以下应用场景:

数据结构稳定，作用于数据结构的操作经常变化的场景。
需要数据结构与数据操作分离的场景。
需要对不同数据类型（元素）进行操作，而不使用分支判断具体类型的场景。

### 访客模式怎么工作？

访问者模式通过将算法与对象结构分离来工作，这里说的算法指的是对对象的操作。为此，我们需要定义了一个表示算法的接口--Visitor。该接口将为对象结构中的每个类（一般称为元素类）提供一个方法。每个方法都将元素类的一个实例作为参数。表示对象结构的所有元素类也会实现一个Element接口，该接口定义了接受访问者的方法Accpet。此方法将访问者接口的实现作为参数。当Accpet方法被调用时，访问者实例对应的方法就会被调用，通过访问者完成对元素类实例的操作