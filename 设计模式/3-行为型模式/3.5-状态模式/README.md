### 状态模式

[摘自](https://mp.weixin.qq.com/s/X9dKNO6sd-OY2VfsZpaElA)

_**用状态模式实现系统工作流和状态机**_

状态模式（State Pattern）也叫作状态机模式（State Machine Pattern）状态模式允许对象的内部状态发生改变时，改变它的行为，就好像对象看起来修改了它实例化的类，状态模式是一种对象行为型模式。

状态模式用于解决系统中复杂对象的状态转换以及不同状态下行为的封装问题。当系统中某个对象存在多个状态，这些状态之间可以进行转换，而且对象在不同状态下行为不相同时可以使用状态模式，把特定于状态的代码抽象到一组独立的状态类中避免过多的状态条件判断，减少维护成本。

### 状态模式的构成

主要由环境类角色、抽象状态角色和具体状态角色，三个角色构成。

- Context（环境类）：环境类又称为上下文类，它定义客户端需要的接口，内部维护一个当前状态实例，并负责具体状态的切换。
- State（抽象状态）：定义状态下的行为，可以有一个或多个行为。
- ConcreteState（具体状态）：每一个具体状态类对应环境的一个具体状态，不同的具体状态类其行为有所不同。