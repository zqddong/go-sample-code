### 原型模式

如果一个类的有非常多的属性，层级还很深。每次构造起来，不管是直接构造还是用建造者模式，都要对太多属性进行复制，那么有没有一种好的方式让我们创建太的时候使用体验更好一点呢

#### 什么是原型模式：

通过复制、拷贝或者叫克隆已有对象的方式来创建新对象的设计模式叫做原型模式，被拷贝的对象也被称作原型对象。

原型对象按照惯例，会暴露出一个 Clone 方法，给外部调用者一个机会来从自己这里“零成本”的克隆出一个新对象

#### 使用原型模式的目的：

主要是为了节省创建对象所花费的时间和资源消耗，提升性能。

还有一点就是，比如全局配置对象这种也可以当成原型对象，如果不想让程序在运行时修改初始化好的原型对象，导致影响其他线程的程序执行的时候，也可以用原型模式快速拷贝出一份，再在副本上做运行时自定义修改。

#### 原型模式的优点

- 某些时候克隆比直接new一个对象再逐属性赋值的过程更简洁高效，比如创建层级很深的对象的时候，克隆比直接用构造会方便很多。
- 可以使用深克隆方式保存对象的状态，可辅助实现撤销操作。

#### 原型模式的缺点

- clone方法位于类的内部，当对已有类进行改造的时候，需要修改代码，违背了开闭原则。
- 当实现深克隆时，需要编写较为复杂的代码，尤其当对象之间存在多重嵌套引用时，为了实现深克隆，每一层对象对应的类都必须支持深克隆。因此，深克隆、浅克隆需要运用得当。
- 在项目中使用原型模式时，可能需要在项目初始化时就把提供克隆能力的原型对象创建好，在多线程环境下，每个线程处理任务的时候，用到了相关对象，可以去原型对象那里拷贝。不过适合当作原型对象的数据并不多，所以原型模式在开发中的使用频率并不高，如果有机会做项目架构，可以适当考虑，确实需要再在项目中引入这种设计模式。